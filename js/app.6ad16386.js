(()=>{"use strict";var t,e={259:(t,e,n)=>{var a=n(669),o=n.n(a);function r(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}document.addEventListener("DOMContentLoaded",(()=>{Promise.all([o().get("public/mockdata.json").then((t=>{const e=t.data,n={};if(200===t.status&&e.data&&e.data.length){for(let t of e.data)t.clientID in n?n[t.clientID].push(t):n[t.clientID]=[t];e.map=n}else e.map=[];return e})).catch((t=>(console.log("error:",t.toString()),{data:[],map:{}}))),o().get("https://hl3jozomodfowtgqofbkvsz4cy0xjzfs.lambda-url.us-east-1.on.aws/",{params:{viewid:"266951763",startdate:"2022-08-15",enddate:"2022-09-15"}}).then((t=>{const e={products:{totalResults:0,totalUsers:0,data:[],map:{}},users:{data:[]}};if(200===t.status){const n=t.data.productResult.data,a=t.data.userResult.data,o=n.columnHeaders,r=[],s={};let i=0;if(n.rows&&n.rows.length){for(let t of n.rows){let e={};for(let n=0;n<o.length;n++)e[o[n].name]=t[n];r.push(e),e["ga:clientID"]in s?s[e["ga:clientID"]].push(e):(i++,s[e["ga:clientID"]]=[e])}e.products={totalResults:n.totalResults,totalUsers:i,data:r,map:s},e.users={data:a}}return e}return e})).catch((t=>(console.log("error:",t.toString()),{products:{totalResults:0,totalUsers:0,data:[],map:{}},users:{data:[]}})))]).then((t=>{const e=document.getElementById("mui-loading"),n=document.getElementById("mui-app"),a=document.getElementById("totalViews"),o=document.getElementById("totalUsers"),s=document.getElementById("totalProductViews"),i=document.getElementById("totalProductUsers"),d=document.getElementById("sdkInteractions"),l=document.getElementById("conversionValue"),c=document.getElementById("widgetConversionValue"),u=document.getElementById("conversionPercentage"),g=document.getElementById("widgetConversionPercentage"),m=document.getElementById("totalTransactions"),p=document.getElementById("widgetTransactions"),v=document.getElementById("avgTransactionValueWithWidget"),f=document.getElementById("avgTransactionValueWithoutWidget"),h=function(t){const e={totalViews:0,totalUsers:0,totalProductViews:0,totalProductUsers:0,sdkInteractions:0,conversionValue:0,widgetConversionValue:0,conversionPercentage:0,widgetConversionPercentage:0,totalTransactions:0,widgetTransactions:0,avgTransactionValueWithWidget:0,avgTransactionValueWithoutWidget:0};if(0==t.length)return e;const n=t[1],a=t[0],o=r(n.products.totalResults),s=r(n.products.totalUsers),i=r(a.data.length);let d=0,l=0,c=0,u=0,g=0,m=0,p=0,v=0,f=0,h=0,w=0,I=0;if(n.products.data&&n.products.data.length)for(let t of n.products.data)c+=parseFloat(t["ga:itemRevenue"]),t["ga:clientID"]in a.map&&(u+=parseFloat(t["ga:itemRevenue"]));if(n.users.data.rows&&n.users.data.rows.length)for(let t of n.users.data.rows)l+=parseInt(t[1]),g+=parseInt(t[2]),p+=parseInt(t[6]),t[0]in a.map&&(v+=parseInt(t[6]));return m=i,d=g,f=0===g?0:(p/g*100).toFixed(2),h=0===m?0:(v/m*100).toFixed(2),w=0===v?0:(u/v).toFixed(2),I=p-v==0?0:((c-u)/(p-v)).toFixed(2),e.totalViews=d,e.totalUsers=l,e.totalProductViews=o,e.totalProductUsers=s,e.sdkInteractions=i,e.conversionValue=r(c.toFixed(2)),e.widgetConversionValue=r(u.toFixed(2)),e.conversionPercentage=f,e.widgetConversionPercentage=h,e.totalTransactions=r(p),e.widgetTransactions=r(v),e.avgTransactionValueWithWidget=r(w),e.avgTransactionValueWithoutWidget=r(I),e}(t);a&&(a.innerText=h.totalViews),o&&(o.innerText=h.totalUsers),s&&(s.innerText=h.totalProductViews),i&&(i.innerText=h.totalProductUsers),d&&(d.innerText=h.sdkInteractions),l&&(l.innerHTML="&pound;"+h.conversionValue),c&&(c.innerHTML="&pound;"+h.widgetConversionValue),u&&(u.innerHTML=h.conversionPercentage+"%"),g&&(g.innerHTML=h.widgetConversionPercentage+"%"),m&&(m.innerText=h.totalTransactions),p&&(p.innerText=h.widgetTransactions),v&&(v.innerHTML="&pound;"+h.avgTransactionValueWithWidget),f&&(f.innerHTML="&pound;"+h.avgTransactionValueWithoutWidget),e&&(e.style.display="none"),n&&(n.style.display="block")}))}))}},n={};function a(t){var o=n[t];if(void 0!==o)return o.exports;var r=n[t]={exports:{}};return e[t](r,r.exports,a),r.exports}a.m=e,t=[],a.O=(e,n,o,r)=>{if(!n){var s=1/0;for(c=0;c<t.length;c++){for(var[n,o,r]=t[c],i=!0,d=0;d<n.length;d++)(!1&r||s>=r)&&Object.keys(a.O).every((t=>a.O[t](n[d])))?n.splice(d--,1):(i=!1,r<s&&(s=r));if(i){t.splice(c--,1);var l=o();void 0!==l&&(e=l)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[n,o,r]},a.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return a.d(e,{a:e}),e},a.d=(t,e)=>{for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},a.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t={143:0};a.O.j=e=>0===t[e];var e=(e,n)=>{var o,r,[s,i,d]=n,l=0;if(s.some((e=>0!==t[e]))){for(o in i)a.o(i,o)&&(a.m[o]=i[o]);if(d)var c=d(a)}for(e&&e(n);l<s.length;l++)r=s[l],a.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return a.O(c)},n=self.webpackChunkwebpack_starter=self.webpackChunkwebpack_starter||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))})();var o=a.O(void 0,[669],(()=>a(259)));o=a.O(o)})();
//# sourceMappingURL=app.6ad16386.js.map