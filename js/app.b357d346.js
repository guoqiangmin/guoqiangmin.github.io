!function(){"use strict";var t,e={4259:function(t,e,n){n(4916),n(5306),n(1539),n(9714),n(1249),n(6977),n(6992),n(8674),n(8783),n(3948),n(7042),n(8309),n(1038),n(2526),n(1817),n(2165);var r=n(9669),o=n.n(r);function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return u=t.done,t},e:function(t){s=!0,a=t},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){u=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw a}}}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}document.addEventListener("DOMContentLoaded",(function(){Promise.all([o().get("public/mockdata.json").then((function(t){var e=t.data,n={};if(200===t.status&&e.data&&e.data.length){var r,o=a(e.data);try{for(o.s();!(r=o.n()).done;){var i=r.value;i.clientID in n?n[i.clientID].push(i):n[i.clientID]=[i]}}catch(t){o.e(t)}finally{o.f()}e.map=n}else e.map=[];return e})).catch((function(t){return console.log("error:",t.toString()),{data:[],map:{}}})),o().get("https://hl3jozomodfowtgqofbkvsz4cy0xjzfs.lambda-url.us-east-1.on.aws/",{params:{viewid:"266951763",startdate:"2022-08-15",enddate:"2022-09-15"}}).then((function(t){var e={products:{totalResults:0,totalUsers:0,data:[],map:{}},users:{data:[]}};if(200===t.status){var n=t.data.productResult.data,r=t.data.userResult.data,o=n.columnHeaders,i=[],u={},s=0;if(n.rows&&n.rows.length){var l,c=a(n.rows);try{for(c.s();!(l=c.n()).done;){for(var d=l.value,f={},g=0;g<o.length;g++)f[o[g].name]=d[g];i.push(f),f["ga:clientID"]in u?u[f["ga:clientID"]].push(f):(s++,u[f["ga:clientID"]]=[f])}}catch(t){c.e(t)}finally{c.f()}e.products={totalResults:n.totalResults,totalUsers:s,data:i,map:u},e.users={data:r}}return e}return e})).catch((function(t){return console.log("error:",t.toString()),{products:{totalResults:0,totalUsers:0,data:[],map:{}},users:{data:[]}}}))]).then((function(t){var e=document.getElementById("mui-loading"),n=document.getElementById("mui-app"),r=document.getElementById("totalViews"),o=document.getElementById("totalUsers"),a=document.getElementById("totalProductViews"),i=document.getElementById("totalProductUsers"),s=document.getElementById("sdkInteractions"),c=document.getElementById("conversionValue"),d=document.getElementById("widgetConversionValue"),f=document.getElementById("conversionPercentage"),g=document.getElementById("widgetConversionPercentage"),v=document.getElementById("totalTransactions"),m=document.getElementById("widgetTransactions"),p=document.getElementById("avgTransactionValueWithWidget"),y=document.getElementById("avgTransactionValueWithoutWidget"),h=function(t){var e={totalViews:0,totalUsers:0,totalProductViews:0,totalProductUsers:0,sdkInteractions:0,conversionValue:0,widgetConversionValue:0,conversionPercentage:0,widgetConversionPercentage:0,totalTransactions:0,widgetTransactions:0,avgTransactionValueWithWidget:0,avgTransactionValueWithoutWidget:0};if(0==t.length)return e;var n,r,o,a,i,s,c=t[1],d=t[0],f=l(c.products.totalResults),g=l(c.products.totalUsers),v=l(d.data.length),m=0,p=0,y=0,h=0,w=0,b=0;if(c.products.data&&c.products.data.length){var I,T=u(c.products.data);try{for(T.s();!(I=T.n()).done;){var V=I.value;p+=parseFloat(V["ga:itemRevenue"]),V["ga:clientID"]in d.map&&(y+=parseFloat(V["ga:itemRevenue"]))}}catch(t){T.e(t)}finally{T.f()}}if(c.users.data.rows&&c.users.data.rows.length){var x,E=u(c.users.data.rows);try{for(E.s();!(x=E.n()).done;){var P=x.value;m+=parseInt(P[1]),h+=parseInt(P[2]),w+=parseInt(P[6]),P[0]in d.map&&(b+=parseInt(P[6]))}}catch(t){E.e(t)}finally{E.f()}}return r=v,n=h,o=0===h?0:(w/h*100).toFixed(2),a=0===r?0:(b/r*100).toFixed(2),i=0===b?0:(y/b).toFixed(2),s=w-b==0?0:((p-y)/(w-b)).toFixed(2),e.totalViews=n,e.totalUsers=m,e.totalProductViews=f,e.totalProductUsers=g,e.sdkInteractions=v,e.conversionValue=l(p.toFixed(2)),e.widgetConversionValue=l(y.toFixed(2)),e.conversionPercentage=o,e.widgetConversionPercentage=a,e.totalTransactions=l(w),e.widgetTransactions=l(b),e.avgTransactionValueWithWidget=l(i),e.avgTransactionValueWithoutWidget=l(s),e}(t);r&&(r.innerText=h.totalViews),o&&(o.innerText=h.totalUsers),a&&(a.innerText=h.totalProductViews),i&&(i.innerText=h.totalProductUsers),s&&(s.innerText=h.sdkInteractions),c&&(c.innerHTML="&pound;"+h.conversionValue),d&&(d.innerHTML="&pound;"+h.widgetConversionValue),f&&(f.innerHTML=h.conversionPercentage+"%"),g&&(g.innerHTML=h.widgetConversionPercentage+"%"),v&&(v.innerText=h.totalTransactions),m&&(m.innerText=h.widgetTransactions),p&&(p.innerHTML="&pound;"+h.avgTransactionValueWithWidget),y&&(y.innerHTML="&pound;"+h.avgTransactionValueWithoutWidget),e&&(e.style.display="none"),n&&(n.style.display="block")}))}))}},n={};function r(t){var o=n[t];if(void 0!==o)return o.exports;var a=n[t]={exports:{}};return e[t](a,a.exports,r),a.exports}r.m=e,t=[],r.O=function(e,n,o,a){if(!n){var i=1/0;for(c=0;c<t.length;c++){n=t[c][0],o=t[c][1],a=t[c][2];for(var u=!0,s=0;s<n.length;s++)(!1&a||i>=a)&&Object.keys(r.O).every((function(t){return r.O[t](n[s])}))?n.splice(s--,1):(u=!1,a<i&&(i=a));if(u){t.splice(c--,1);var l=o();void 0!==l&&(e=l)}}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[n,o,a]},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,a,i=n[0],u=n[1],s=n[2],l=0;if(i.some((function(e){return 0!==t[e]}))){for(o in u)r.o(u,o)&&(r.m[o]=u[o]);if(s)var c=s(r)}for(e&&e(n);l<i.length;l++)a=i[l],r.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return r.O(c)},n=self.webpackChunkwebpack_starter=self.webpackChunkwebpack_starter||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var o=r.O(void 0,[809],(function(){return r(4259)}));o=r.O(o)}();
//# sourceMappingURL=app.b357d346.js.map