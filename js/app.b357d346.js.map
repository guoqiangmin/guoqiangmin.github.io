{"version":3,"file":"js/app.b357d346.js","mappings":"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","sources":["webpack://webpack-starter/webpack/runtime/chunk loaded","webpack://webpack-starter/./src/scripts/index.js","webpack://webpack-starter/./src/scripts/apis.js","webpack://webpack-starter/webpack/bootstrap","webpack://webpack-starter/webpack/runtime/compat get default export","webpack://webpack-starter/webpack/runtime/define property getters","webpack://webpack-starter/webpack/runtime/global","webpack://webpack-starter/webpack/runtime/hasOwnProperty shorthand","webpack://webpack-starter/webpack/runtime/jsonp chunk loading","webpack://webpack-starter/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","import '../styles/index.scss';\nimport { getInternalAnalytics, getGoogleAnalytics } from './apis';\n\nfunction numberWithCommas(x) {\n  return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n}\n\nfunction parseData(data) {\n  const parsedData = {\n    'totalViews': 0,\n    'totalUsers': 0,\n    'totalProductViews': 0,\n    'totalProductUsers': 0,\n    'sdkInteractions': 0,\n    'conversionValue': 0,\n    'widgetConversionValue': 0,\n    'conversionPercentage': 0,\n    'widgetConversionPercentage': 0,\n    'totalTransactions': 0,\n    'widgetTransactions': 0,\n    'avgTransactionValueWithWidget': 0,\n    'avgTransactionValueWithoutWidget': 0\n  };\n\n  if (data.length == 0) return parsedData;\n\n  const analyticData = data[1];\n  const internalData = data[0];\n\n  const totalProductViews = numberWithCommas(analyticData.products.totalResults);\n  const totalProductUsers = numberWithCommas(analyticData.products.totalUsers);\n  const sdkInteractions = numberWithCommas(internalData.data.length); // internalData.totalResults\n\n  let totalViews = 0;\n  let totalUsers = 0;\n  let totalConversionValue = 0;\n  let widgetConversionValue = 0;\n  let totalSessions = 0;\n  let widgetSessions = 0;\n  let totalTransactions = 0;\n  let widgetTransactions = 0;\n  let totalConversionRate = 0;\n  let widgetConversionRate = 0;\n\n  let avgTransactionValueWithWidget = 0;\n  let avgTransactionValueWithoutWidget = 0;\n\n  if (analyticData.products.data && analyticData.products.data.length) {\n    for (let item of analyticData.products.data) {\n      totalConversionValue += parseFloat(item[\"ga:itemRevenue\"]);\n      if (item[\"ga:clientID\"] in internalData.map) {\n        widgetConversionValue += parseFloat(item[\"ga:itemRevenue\"]);\n      }\n    }\n  }\n\n  if (analyticData.users.data.rows && analyticData.users.data.rows.length) {\n    for (let row of analyticData.users.data.rows) {\n      totalUsers += parseInt(row[1]);\n      totalSessions += parseInt(row[2]);\n      totalTransactions += parseInt(row[6]);\n\n      if (row[0] in internalData.map) {\n        // widgetSessions += parseInt(row[2]);\n        widgetTransactions += parseInt(row[6]);\n      }\n    }\n  }\n\n  widgetSessions = sdkInteractions; \n  totalViews = totalSessions;\n\n  totalConversionRate = (totalSessions === 0) ? 0 : (totalTransactions / totalSessions * 100).toFixed(2);\n  widgetConversionRate = (widgetSessions === 0) ? 0 : (widgetTransactions / widgetSessions * 100).toFixed(2);\n\n  avgTransactionValueWithWidget = (widgetTransactions === 0) ? 0 : (widgetConversionValue / widgetTransactions).toFixed(2);\n  avgTransactionValueWithoutWidget = (totalTransactions - widgetTransactions === 0) ? 0 : ((totalConversionValue - widgetConversionValue) / (totalTransactions - widgetTransactions)).toFixed(2);\n\n  parsedData['totalViews'] = totalViews;\n  parsedData['totalUsers'] = totalUsers;\n  parsedData['totalProductViews'] = totalProductViews;\n  parsedData['totalProductUsers'] = totalProductUsers;\n  parsedData['sdkInteractions'] = sdkInteractions;\n  parsedData['conversionValue'] = numberWithCommas(totalConversionValue.toFixed(2));\n  parsedData['widgetConversionValue'] = numberWithCommas(widgetConversionValue.toFixed(2));\n  parsedData['conversionPercentage'] = totalConversionRate;\n  parsedData['widgetConversionPercentage'] = widgetConversionRate;\n  parsedData['totalTransactions'] = numberWithCommas(totalTransactions);\n  parsedData['widgetTransactions'] = numberWithCommas(widgetTransactions);\n  parsedData['avgTransactionValueWithWidget'] = numberWithCommas(avgTransactionValueWithWidget);\n  parsedData['avgTransactionValueWithoutWidget'] = numberWithCommas(avgTransactionValueWithoutWidget);\n\n  return parsedData;\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  Promise.all([getInternalAnalytics(), getGoogleAnalytics()]).then((results) => {\n    const loadingElem = document.getElementById(\"mui-loading\");\n    const appElem = document.getElementById(\"mui-app\");\n    const totalViewsElem = document.getElementById(\"totalViews\");\n    const totalUsersElem =  document.getElementById(\"totalUsers\");\n    const totalProductViewsElem = document.getElementById(\"totalProductViews\");\n    const totalProductUsersElem = document.getElementById(\"totalProductUsers\");\n    const sdkInteractionsElem = document.getElementById(\"sdkInteractions\");\n    const conversionValueElem = document.getElementById(\"conversionValue\");\n    const widgetConversionValueElem = document.getElementById(\"widgetConversionValue\");\n    const conversionPercentageElem = document.getElementById(\"conversionPercentage\");\n    const widgetConversionPercentageElem = document.getElementById(\"widgetConversionPercentage\");\n    const totalTransactionsElem = document.getElementById(\"totalTransactions\");\n    const widgetTransactionsElem = document.getElementById(\"widgetTransactions\");\n    const avgTransactionValueWithWidgetElem = document.getElementById(\"avgTransactionValueWithWidget\");\n    const avgTransactionValueWithoutWidgetElem = document.getElementById(\"avgTransactionValueWithoutWidget\");\n\n    const result = parseData(results);\n\n    if (totalViewsElem) totalViewsElem.innerText = result.totalViews;\n    if (totalUsersElem) totalUsersElem.innerText = result.totalUsers;\n    if (totalProductViewsElem) totalProductViewsElem.innerText = result.totalProductViews;\n    if (totalProductUsersElem) totalProductUsersElem.innerText = result.totalProductUsers;\n    if (sdkInteractionsElem) sdkInteractionsElem.innerText = result.sdkInteractions;\n    if (conversionValueElem) conversionValueElem.innerHTML = \"&pound;\" + result.conversionValue;\n    if (widgetConversionValueElem) widgetConversionValueElem.innerHTML = \"&pound;\" + result.widgetConversionValue;\n    if (conversionPercentageElem) conversionPercentageElem.innerHTML = result.conversionPercentage + '%';\n    if (widgetConversionPercentageElem) widgetConversionPercentageElem.innerHTML = result.widgetConversionPercentage + '%';\n    if (totalTransactionsElem) totalTransactionsElem.innerText = result.totalTransactions;\n    if (widgetTransactionsElem) widgetTransactionsElem.innerText = result.widgetTransactions;\n    if (avgTransactionValueWithWidgetElem) avgTransactionValueWithWidgetElem.innerHTML = \"&pound;\" + result.avgTransactionValueWithWidget;\n    if (avgTransactionValueWithoutWidgetElem) avgTransactionValueWithoutWidgetElem.innerHTML = \"&pound;\" + result.avgTransactionValueWithoutWidget;\n\n    if (loadingElem) loadingElem.style.display = \"none\";\n    if (appElem) appElem.style.display = \"block\";\n  });\n});\n","import axios from 'axios';\n\nexport function getGoogleAnalytics() {\n  return axios.get('https://hl3jozomodfowtgqofbkvsz4cy0xjzfs.lambda-url.us-east-1.on.aws/', {\n    params: {\n      'viewid': '266951763',\n      'startdate': '2022-08-15',\n      'enddate': '2022-09-15'\n    }\n  })\n  .then((resp) => {\n    const gAnalytics = {\n      \"products\": {\n        \"totalResults\": 0,\n        \"totalUsers\": 0,\n        \"data\": [],\n        \"map\": {}\n      },\n      \"users\": {\n        \"data\": [],\n      }\n    };\n\n    if (resp.status === 200) {\n      const productData = resp.data.productResult.data;\n      const userData = resp.data.userResult.data;\n\n      const columns = productData.columnHeaders;\n      const arrOutput = [];\n      const mapOutput = {};\n\n      let totalUsers = 0;\n\n      if (productData.rows && productData.rows.length) {\n        for (let row of productData.rows) {\n          let newItem = {};\n          for (let colIdx = 0; colIdx < columns.length; colIdx++) { // 7\n            const col = columns[colIdx];\n            newItem[col.name] = row[colIdx];\n          }\n          arrOutput.push(newItem);\n          if (newItem['ga:clientID'] in mapOutput) {\n            mapOutput[newItem['ga:clientID']].push(newItem);\n          }\n          else {\n            totalUsers++;\n            mapOutput[newItem['ga:clientID']] = [newItem];\n          }\n        }\n\n        gAnalytics[\"products\"] = {\n          \"totalResults\": productData.totalResults,\n          \"totalUsers\": totalUsers,\n          \"data\": arrOutput,\n          \"map\": mapOutput\n        };\n        gAnalytics[\"users\"] = {\n          \"data\": userData,\n        };\n      }\n      return gAnalytics;\n    }\n    return gAnalytics;\n  })\n  .catch((err) => {\n    console.log('error:', err.toString());\n    return {\n      \"products\": {\n        \"totalResults\": 0,\n        \"totalUsers\": 0,\n        \"data\": [],\n        \"map\": {}\n      },\n      \"users\": {\n        \"data\": [],\n      }\n    };\n  });\n}\n\nexport function getInternalAnalytics() {\n  return axios.get('public/mockdata.json')\n    .then((resp) => {\n      const iAnalytics = resp.data;\n      const mapOutput = {};\n\n      if (resp.status === 200 && iAnalytics.data && iAnalytics.data.length) {\n        for (let row of iAnalytics.data) {\n          if (row['clientID'] in mapOutput) {\n            mapOutput[row['clientID']].push(row);\n          }\n          else {\n            mapOutput[row['clientID']] = [row];\n          }\n        }\n        iAnalytics['map'] = mapOutput;\n      }\n      else {\n        iAnalytics['map'] = [];\n      }\n\n      return iAnalytics;\n    })\n    .catch((err) => {\n      console.log('error:', err.toString());\n      return {\n        'data': [],\n        'map': {}\n      };\n    });\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkwebpack_starter\"] = self[\"webpackChunkwebpack_starter\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [809], function() { return __webpack_require__(4259); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","numberWithCommas","x","toString","replace","document","addEventListener","Promise","all","axios","then","resp","iAnalytics","data","mapOutput","status","length","_step2","_iterator2","_createForOfIteratorHelper","s","n","done","row","value","push","err","e","f","catch","console","log","params","gAnalytics","productData","productResult","userData","userResult","columns","columnHeaders","arrOutput","totalUsers","rows","_step","_iterator","newItem","colIdx","name","totalResults","results","loadingElem","getElementById","appElem","totalViewsElem","totalUsersElem","totalProductViewsElem","totalProductUsersElem","sdkInteractionsElem","conversionValueElem","widgetConversionValueElem","conversionPercentageElem","widgetConversionPercentageElem","totalTransactionsElem","widgetTransactionsElem","avgTransactionValueWithWidgetElem","avgTransactionValueWithoutWidgetElem","result","parsedData","totalViews","widgetSessions","totalConversionRate","widgetConversionRate","avgTransactionValueWithWidget","avgTransactionValueWithoutWidget","analyticData","internalData","totalProductViews","products","totalProductUsers","sdkInteractions","totalConversionValue","widgetConversionValue","totalSessions","totalTransactions","widgetTransactions","item","parseFloat","map","users","parseInt","toFixed","parseData","innerText","innerHTML","conversionValue","conversionPercentage","widgetConversionPercentage","style","display","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","Object","keys","every","key","splice","r","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","this","Function","window","obj","prop","prototype","hasOwnProperty","call","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","id","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}